if(typeof $WH=="undefined"){$WH={wowheadRemote:true}}if(typeof $WowheadPower=="undefined"){var $WowheadPower=new function(){var X=$WH.wowheadRemote;var B={applyto:3},v=document.getElementsByTagName("head")[0],k,Q,U,L,x,ab,O,M,m=0,af=false,P={},l={},C={},J={},V={},ai={},h={},i={},g={},aa=1,E=1,T=0,R=1,n=2,y=3,S=4,W=5,z=1,p=2,G=3,K=5,A=6,s=10,d=101,o=100,u=15,I=15,F={loading:"Loading...",noresponse:"No response from server :(",achievementcomplete:"Achievement earned by $1 on $2/$3/$4"},w={1:[P,"npc","NPC"],2:[l,"object","Object"],3:[C,"item","Item"],5:[J,"quest","Quest"],6:[V,"spell","Spell"],10:[ai,"achievement","Achievement"],100:[g,"profile","Profile"],101:[h,"transmog-set","Transmog Set"]},ah={3:{url:"/data=item-scaling"},6:{url:"/data=spell-scaling"}},f={0:"enus",2:"frfr",3:"dede",6:"eses",7:"ruru",8:"ptbr",ptr:"ptr",beta:"beta"},c={wotlk:"www",cata:"www"};if(X){var b={getId:function(){return 0},getName:function(){return"enus"}}}function ac(){if(X){var ak=document.createElement("script");ak.src="//wowjs.zamimg.com/js/basic.js?5";v.appendChild(ak)}else{Y();var al=$WH.isset("g_ptractive")&&g_ptractive;if(!al){c.ptr="www"}}}function Y(){if(af){return}af=true;$WH.aE(document,"mouseover",D)}this.init=function(){if(X){$WH.ae(v,$WH.ce("link",{type:"text/css",href:"//wowcss.zamimg.com/css/basic.css?5",rel:"stylesheet"}))}Y()};function t(ak){var al=$WH.g_getCursorPos(ak);O=al.x;M=al.y}function ae(ay,au){if(ay.nodeName!="A"&&ay.nodeName!="AREA"){return -2323}if(!ay.href.length&&!ay.rel){return}if(ay.rel&&ay.rel.indexOf("np")!=-1){return}var ap,ao,am,al,aq={};x=aq;var ak=function(az,aB,aA){if(aB=="buff"||aB=="sock"||aB=="map"){aq[aB]=true}else{if(aB=="rand"||aB=="ench"||aB=="lvl"||aB=="c"||aB=="diff"){aq[aB]=parseInt(aA)}else{if(aB=="gems"||aB=="pcs"||aB=="forg"||aB=="know"){aq[aB]=aA.split(":")}else{if(aB=="who"||aB=="domain"){aq[aB]=aA}else{if(aB=="when"){aq[aB]=new Date(parseInt(aA))}}}}}};var at=false;if(B.applyto&1){ao=2;am=3;if(ay.href.indexOf("http://")==0||ay.href.indexOf("https://")==0){ap=1;al=ay.href.match(/^https?:\/\/(.+?)?\.?(?:wowhead|thottbot)\.com\/\??(item|quest|spell|achievement|transmog-set|statistic|npc|object)=([0-9]+)/);if(al==null){al=ay.href.match(/^https?:\/\/(.+?)?\.?(?:wowhead|thottbot)\.com\/\??(profile)=([^&#]+)/)}E=0}else{at=true;al=ay.href.match(/()\/\??(item|quest|spell|achievement|transmog-set|statistic|npc|object)=([0-9]+)/);if(al==null){al=ay.href.match(/()\/\??(profile)=([^&#]+)/)}E=1}}if(al==null&&ay.rel&&(B.applyto&2)){ap=0;ao=1;am=2;al=ay.rel.match(/(item|quest|spell|achievement|transmog-set|statistic|npc|object).?([0-9]+)/);if(al==null){al=ay.rel.match(/(profile).?([^&#]+)/)}E=1}ay.href.replace(/([a-zA-Z]+)=?([a-zA-Z0-9:-]*)/g,ak);if(ay.rel){ay.rel.replace(/([a-zA-Z]+)=?([a-zA-Z0-9:-]*)/g,ak)}if(aq.gems&&aq.gems.length>0){var ar;for(ar=Math.min(3,aq.gems.length-1);ar>=0;--ar){if(parseInt(aq.gems[ar])){break}}++ar;if(ar==0){delete aq.gems}else{if(ar<aq.gems.length){aq.gems=aq.gems.slice(0,ar)}}}if(al){var ax,an="www";ab=ay;if(aq.domain){an=aq.domain}else{if(ap&&al[ap]){an=al[ap].split(".")[0]}else{if(at){if($WH.isset("g_beta")&&g_beta){an="cata"}else{if($WH.isset("g_ptr")&&g_ptr){an="ptr"}else{if($WH.isset("g_old")&&g_old){an="old"}}}}}}if(c[an]){an=c[an]}ax=$WH.g_getLocaleFromDomain(an);if(an=="ptr"){ax="ptr"}else{if(an=="beta"||an=="cata"){ax="beta"}}L=an;if(ay.href.indexOf("#")!=-1&&document.location.href.indexOf(al[ao]+"="+al[am])!=-1){return}m=((ay.parentNode.className.indexOf("icon")==0&&ay.parentNode.nodeName=="DIV")?1:0);if(!ay.onmouseout){if(m==0){ay.onmousemove=a}ay.onmouseout=ad}t(au);var aw=$WH.g_getIdFromTypeName(al[ao]),av=al[am];H(aw,av,ax,aq)}}function D(am){am=$WH.$E(am);var al=am._target;var ak=0;while(al!=null&&ak<5&&ae(al,am)==-2323){al=al.parentNode;++ak}}function a(ak){ak=$WH.$E(ak);t(ak);$WH.Tooltip.move(O,M,0,0,u,I)}function ad(){k=null;ab=null;$WH.Tooltip.hide()}function Z(ak,al){return(x&&x.buff?"buff":"tooltip")+(al?al:"")+"_"+f[ak]}function aj(ak){return(x&&x.buff?"buff":"")+"spells_"+f[ak]}function q(al,an,am){var ak=w[al][0];if(ak[an]==null){ak[an]={}}if(ak[an].status==null){ak[an].status={}}if(ak[an].response==null){ak[an].response={}}if(ak[an].status[am]==null){ak[an].status[am]=T}}function H(al,ap,an,ao){if(!ao){ao={}}var am=j(ap,ao);k=al;Q=am;U=an;x=ao;q(al,am,an);var ak=w[al][0];if(ak[am].status[an]==S||ak[am].status[an]==y){ag(ak[am][Z(an)],ak[am].icon,ak[am].map,ak[am][aj(an)],ak[am][Z(an,2)])}else{if(ak[am].status[an]==R||ak[am].status[an]==W){ag(F.loading)}else{e(al,ap,an,null,ao)}}}function e(au,ao,av,am,ap){var ak=j(ao,ap);var ar=w[au][0];if(ar[ak].status[av]!=T&&ar[ak].status[av]!=n){return}ar[ak].status[av]=R;if(!am){ar[ak].timer=setTimeout(function(){r.apply(this,[au,ak,av])},333)}var an="";for(var aq in ap){if(aq!="rand"&&aq!="ench"&&aq!="gems"&&aq!="sock"&&aq!="diff"){continue}if(typeof ap[aq]=="object"){an+="&"+aq+"="+ap[aq].join(":")}else{if(ap[aq]===true){an+="&"+aq}else{an+="&"+aq+"="+ap[aq]}}}var at=$WH.g_getDomainFromLocale(av);if(av=="ptr"){at="ptr"}else{if(av=="beta"){at="cata"}}var al="";if(typeof g_dev=="undefined"||!g_dev){al+=document.location.protocol+"//"+at+".wowhead.com"}else{if(window.location.hostname.indexOf("dev.wowhead.com")!=-1){if(at!="www"&&window.location.hostname.indexOf(at)!=0){al+=document.location.protocol+"//"+at+"."+window.location.hostname}}}$WH.g_ajaxIshRequest(al+"/"+w[au][1]+"="+ao+"&power"+an);if(ah[au]&&!ah[au][av]){$WH.g_ajaxIshRequest(al+ah[au].url)}}function ag(ap,av,ak,au,at){if(ab&&ab._fixTooltip){ap=ab._fixTooltip(ap,k,Q,ab)}var aw=false;if(!ap){ap=w[k][2]+" not found :(";av="inv_misc_questionmark";aw=true}else{if(x!=null){if(x.forg&&$WH.g_reforgeStats[x.forg]){var ar=$WH.g_reforgeStats[x.forg];var ay=[ar.i1];for(var ao in $WH.g_individualToGlobalStat){if($WH.g_individualToGlobalStat[ao]==ay[0]){ay.push(ao)}}var am;if((am=ap.match(new RegExp("(<!--(stat|rtg)("+ay.join("|")+")-->)[+-]?([0-9]+)")))&&!ap.match(new RegExp("<!--(stat|rtg)"+ar.i2+"-->[+-]?[0-9]+"))){var ax=Math.floor(am[4]*ar.v),an=LANG.traits[ar.s2][0];if(ar.i2==6){ap=ap.replace("<!--rs-->","<br />+"+ax+" "+an)}else{ap=ap.replace("<!--rr-->",$WH.sprintfa(LANG.tooltip_genericrating,an.toLowerCase(),ar.i2,ax))}ap=ap.replace(am[0],am[1]+(am[4]-ax));ap=ap.replace("<!--rf-->",'<span class="q2">'+$WH.sprintfa(LANG.tooltip_reforged,ax,LANG.traits[ar.s1][2],LANG.traits[ar.s2][2])+"</span><br />")}}if(x.pcs&&x.pcs.length){var az=Q.match(/^(\d+)/);az=az[1];var al=0;for(var ao=0,aq=x.pcs.length;ao<aq;++ao){var am;if(am=ap.match(new RegExp("<span><!--si([0-9]+:)*"+x.pcs[ao]+'(:[0-9]+)*--><a href="/??item=(\\d+)">(.+?)</a></span>'))){ap=ap.replace(am[0],'<span class="q8"><!--si'+x.pcs[ao]+'--><a href="/item='+am[3]+'">'+(($WH.isset("g_items")&&g_items[x.pcs[ao]])?g_items[x.pcs[ao]]["name_"+f[U]]:am[4])+"</a></span>");++al}}if(al>0){ap=ap.replace("(0/","("+al+"/");ap=ap.replace(new RegExp("<span>\\(([0-"+al+"])\\)","g"),'<span class="q2">($1)')}}if(x.know&&x.know.length){ap=$WH.g_setTooltipSpells(ap,x.know,au)}if(x.lvl){ap=$WH.g_setTooltipLevel(ap,x.lvl,x.buff)}if(x.who&&x.when){ap=ap.replace("<table><tr><td><br />",'<table><tr><td><br /><span class="q2">'+$WH.sprintf(F.achievementcomplete,x.who,x.when.getMonth()+1,x.when.getDate(),x.when.getFullYear())+"</span><br /><br />");ap=ap.replace(/class="q0"/g,'class="r3"')}}}if(x.map&&ak&&ak.getMap){at=ak.getMap()}if(m==1){$WH.Tooltip.setIcon(null);$WH.Tooltip.show(ab,ap,null,null,null,at)}else{$WH.Tooltip.setIcon(av);$WH.Tooltip.showAtXY(ap,O,M,u,I,at)}if(X&&$WH.Tooltip.logo){$WH.Tooltip.logo.style.display=(E?"block":"none")}}function r(al,an,am){if(k==al&&Q==an&&U==am){ag(F.loading);var ak=w[al][0];ak[an].timer=setTimeout(function(){N.apply(this,[al,an,am])},3850)}}function N(al,an,am){var ak=w[al][0];ak[an].status[am]=n;if(k==al&&Q==an&&U==am){ag(F.noresponse)}}function j(al,ak){return al+(ak.rand?"r"+ak.rand:"")+(ak.ench?"e"+ak.ench:"")+(ak.gems?"g"+ak.gems.join(","):"")+(ak.sock?"s":"")}this.loadScales=function(am,an){var ak=w[am][0];for(var al in f){if(an==al||(!an&&!isNaN(al))){ah[am][al]=1;for(var ao in ak){if(ak[ao].status[al]==W&&ak[ao].response[al]){ak[ao].response[al]()}}}}};this.register=function(am,ao,an,al){var ak=w[am][0];q(am,ao,an);if(ah[am]&&!ah[am][an]){ak[ao].status[an]=W;ak[ao].response[an]=this.register.bind(this,am,ao,an,al);return}if(ak[ao].timer){clearTimeout(ak[ao].timer);ak[ao].timer=null}if(!$WH.wowheadRemote&&al.map){if(ak[ao].map==null){ak[ao].map=new Mapper({parent:$WH.ce("div"),zoom:3,zoomable:false,buttons:false})}ak[ao].map.update(al.map);delete al.map}$WH.cO(ak[ao],al);if(ak[ao].status[an]==R||ak[ao].status[an]==W){if(ak[ao][Z(an)]){ak[ao].status[an]=S}else{ak[ao].status[an]=y}}if(k==am&&ao==Q&&U==an){ag(ak[ao][Z(an)],ak[ao].icon,ak[ao].map,ak[ao][aj(an)],ak[ao][Z(an,2)])}};this.registerNpc=function(am,al,ak){this.register(z,am,al,ak)};this.registerObject=function(am,al,ak){this.register(p,am,al,ak)};this.registerItem=function(am,al,ak){this.register(G,am,al,ak)};this.registerTransmogSet=function(am,al,ak){this.register(d,am,al,ak)};this.registerQuest=function(am,al,ak){this.register(K,am,al,ak)};this.registerSpell=function(am,al,ak){this.register(A,am,al,ak)};this.registerAchievement=function(am,al,ak){this.register(s,am,al,ak)};this.registerProfile=function(am,al,ak){this.register(o,am,al,ak)};this.request=function(ak,ao,am,an){if(!an){an={}}var al=j(ao,an);q(ak,al,am);e(ak,ao,am,1,an)};this.requestItem=function(al,ak){this.request(G,al,b.getId(),ak)};this.requestSpell=function(ak){this.request(A,ak,b.getId())};this.getStatus=function(al,an,am){var ak=w[al][0];if(ak[an]!=null){return ak[an].status[am]}else{return T}};this.getItemStatus=function(al,ak){this.getStatus(G,al,ak)};this.getSpellStatus=function(al,ak){this.getStatus(A,al,ak)};if(X){this.set=function(ak){$WH.cO(B,ak)};this.showTooltip=function(am,ak,al){t(am);ag(ak,al)};this.hideTooltip=function(){$WH.Tooltip.hide()};this.moveTooltip=function(ak){a(ak)}}ac()}};
  